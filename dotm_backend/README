dotm_backend.py
================

Description
-----------
POC of DOTM Backend API

Installing requirements
-----------------------
$ pip3 install -r requirements.txt
Or install packages with modules listed in requirements.txt provided by your OS package manager.

Configuring
-----------
Create file .mr.developer.cfg:

[monitoring]
url =  https://mon.example.com
user = <monuser>
paswd = <monpaswd>
nodes_key_prefix = dotm::check::nodes::
services_key_prefix = dotm::check::services::
config_key = dotm::check::config
config_key_prefix = %(config_key)s::
expire = 86400

[redis]
host = 127.0.0.1
port = 6379

Running
-------
$ ./dotm_backend.py

Testing JSON API
----------------
$ curl -i http://localhost:8080/nodes
$ curl -i http://localhost:8080/nodes/<hostname>
$ curl -i http://localhost:8080/mon/nodes
$ curl -i http://localhost:8080/mon/nodes/<hostname>
$ curl -i http://localhost:8080/mon/nodes/<hostname>/status
$ curl -i http://localhost:8080/mon/services/<hostname>
$ curl -i http://localhost:8080/mon/nodes/404
$ curl -X POST -i http://localhost:8080/mon/reload

Testing JSONP API
-----------------
$ curl -i -H "Accept: application/javascript" http://localhost:8080/nodes/<hostname>?callback=foo
